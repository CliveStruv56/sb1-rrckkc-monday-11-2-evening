import{u as f,a as i,j as t}from"./index-YCAMCxzv.js";import{u as b,R as d}from"./vendor-react-S76kyUnC.js";import"./vendor-utils-BGzRgZPY.js";import"./vendor-firebase-DU3MYe4I.js";const v=()=>{const{items:o,removeItem:x,updateQuantity:c,getTotal:u}=f(),{settings:s}=i(),a=b();d.useEffect(()=>{i.getState().fetchSettings()},[]),d.useEffect(()=>{o.length===0&&a("/menu")},[o.length,a]);const p=e=>{var n;return(n=s==null?void 0:s.productOptions.find(l=>l.id===e))==null?void 0:n.title},m=e=>{var r;const n=e.product.price*e.quantity,l=e.selectedOption?(((r=s==null?void 0:s.productOptions.find(h=>h.id===e.selectedOption))==null?void 0:r.price)||0)*e.quantity:0;return n+l};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Your Cart"}),t.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6 mb-8",children:[o.map(e=>{var n;return t.jsxs("div",{className:"flex justify-between mb-3 pb-3 border-b",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-baseline gap-2",children:[t.jsx("p",{className:"font-medium",children:e.product.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:["£",e.product.price.toFixed(2)," each"]})]}),e.selectedOption&&t.jsxs("p",{className:"text-sm text-gray-600",children:[p(e.selectedOption),"(+£",(n=s==null?void 0:s.productOptions.find(l=>l.id===e.selectedOption))==null?void 0:n.price.toFixed(2),")"]}),t.jsxs("div",{className:"flex items-center mt-2",children:[t.jsx("button",{onClick:()=>c(e.product.id,e.selectedOption,Math.max(e.quantity-1,1)),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200","aria-label":"Decrease quantity",children:"-"}),t.jsx("span",{className:"mx-3 min-w-[2rem] text-center",children:e.quantity}),t.jsx("button",{onClick:()=>c(e.product.id,e.selectedOption,e.quantity+1),className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200","aria-label":"Increase quantity",children:"+"})]})]}),t.jsxs("div",{className:"flex flex-col items-end justify-between",children:[t.jsxs("p",{className:"font-medium",children:["£",m(e).toFixed(2)]}),t.jsx("button",{onClick:()=>x(e.product.id,e.selectedOption),className:"text-sm text-red-500 hover:text-red-700",children:"Remove"})]})]},`${e.product.id}-${e.selectedOption||"no-option"}`)}),t.jsx("div",{className:"mt-4 pt-4 border-t",children:t.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[t.jsx("span",{children:"Total:"}),t.jsxs("span",{children:["£",u().toFixed(2)]})]})})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:()=>a("/menu"),className:"flex-1 bg-gray-200 text-gray-700 py-4 px-6 rounded-lg text-lg font-semibold hover:bg-gray-300 transition-colors",children:"Continue Shopping"}),t.jsx("button",{onClick:()=>a("/collection-time"),className:"flex-1 bg-blue-600 text-white py-4 px-6 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors",children:"Select Collection Time"})]})]})};export{v as CartSummary,v as default};
//# sourceMappingURL=CartSummary-CEjkj6oR.js.map
