const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingPage-DXp0GX8V.js","assets/vendor-react-S76kyUnC.js","assets/vendor-utils-BGzRgZPY.js","assets/vendor-firebase-DU3MYe4I.js","assets/InfoPage-CpUaenbB.js","assets/CategoryGrid-DxDVP25m.js","assets/CartSummary-CEjkj6oR.js","assets/TimeSelectionPage-ZVqIhBry.js","assets/Checkout-B0z6KZWP.js","assets/demoModeStore-Ba8Qd-Nc.js","assets/OrderConfirmation-DWBJLoQV.js","assets/AdminSettings-DtrKcw9D.js"])))=>i.map(i=>d[i]);
import{r as S,a as X,u as q,R as v,b as Z,L as R,B as ee,c as M,d as E,N as te,e as re}from"./vendor-react-S76kyUnC.js";import{c as C}from"./vendor-utils-BGzRgZPY.js";import{i as oe,a as ne,e as se,g as ae,b as ie,S as le,c as z,q as ce,o as de,d as ue,f as fe,u as me,h as j,j as pe,k as he,l as ge,s as xe,m as ye,n as be,p as ve,r as O,t as we,v as je,w as $}from"./vendor-firebase-DU3MYe4I.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();var J={exports:{}},L={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Se=S,_e=Symbol.for("react.element"),Ee=Symbol.for("react.fragment"),ke=Object.prototype.hasOwnProperty,Oe=Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ne={key:!0,ref:!0,__self:!0,__source:!0};function V(e,i,o){var t,n={},r=null,a=null;o!==void 0&&(r=""+o),i.key!==void 0&&(r=""+i.key),i.ref!==void 0&&(a=i.ref);for(t in i)ke.call(i,t)&&!Ne.hasOwnProperty(t)&&(n[t]=i[t]);if(e&&e.defaultProps)for(t in i=e.defaultProps,i)n[t]===void 0&&(n[t]=i[t]);return{$$typeof:_e,type:e,key:r,ref:a,props:n,_owner:Oe.current}}L.Fragment=Ee;L.jsx=V;L.jsxs=V;J.exports=L;var s=J.exports,D={},B=X;D.createRoot=B.createRoot,D.hydrateRoot=B.hydrateRoot;const Ie="modulepreload",Pe=function(e){return"/"+e},U={},k=function(i,o,t){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(o.map(m=>{if(m=Pe(m),m in U)return;U[m]=!0;const f=m.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Ie,f||(d.as="script"),d.crossOrigin="",d.href=m,c&&d.setAttribute("nonce",c),document.head.appendChild(d),f)return new Promise((b,x)=>{d.addEventListener("load",b),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${m}`)))})}))}function r(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return n.then(a=>{for(const c of a||[])c.status==="rejected"&&r(c.reason);return i().catch(r)})},Ae={apiKey:"AIzaSyCqm49bAzlJwx2SaTXJQZwrBMMM8BtP_1U",authDomain:"bolt-coffee-shop.firebaseapp.com",projectId:"bolt-coffee-shop",storageBucket:"bolt-coffee-shop.firebasestorage.app",messagingSenderId:"921119001263",appId:"1:921119001263:web:59aa28f9f2ce17ebb6225a"},T=oe(Ae),g=ne(T,{cacheSizeBytes:le});se(g).catch(e=>{e.code==="failed-precondition"?console.warn("Firebase persistence failed: Multiple tabs open"):e.code==="unimplemented"&&console.warn("Firebase persistence not supported in this browser")});const I=ae(T),it=ie(T),G=C((e,i)=>({products:[],loading:!1,error:null,isOffline:!1,fetchProducts:async()=>{e({loading:!0,error:null});try{const o=z(g,"products"),t=ce(o,de("category")),r=(await ue(t)).docs.map(a=>({id:a.id,...a.data()}));e({products:r,loading:!1,error:null})}catch(o){console.error("Error fetching products:",o),e(t=>({products:t.products,loading:!1,error:"Network error - using cached data",isOffline:!0}))}},addProduct:async o=>{e({loading:!0,error:null});try{const t={...o,createdAt:new Date().toISOString()},r={id:(await fe(z(g,"products"),t)).id,...t};e(a=>({products:[...a.products,r],loading:!1,error:null}))}catch(t){throw console.error("Error adding product:",t),e({error:"Failed to add product - please check your connection",loading:!1}),t}},updateProduct:async(o,t)=>{e({loading:!0,error:null});try{const n={...t,updatedAt:new Date().toISOString()};await me(j(g,"products",o),n),e(r=>({products:r.products.map(a=>a.id===o?{...a,...n}:a),loading:!1,error:null}))}catch(n){throw console.error("Error updating product:",n),e({error:"Failed to update product - please check your connection",loading:!1}),n}},deleteProduct:async o=>{e({loading:!0,error:null});try{await pe(j(g,"products",o)),e(t=>({products:t.products.filter(n=>n.id!==o),loading:!1,error:null}))}catch(t){throw console.error("Error deleting product:",t),e({error:"Failed to delete product - please check your connection",loading:!1}),t}},toggleNetwork:async()=>{const{isOffline:o}=i();try{o?(await he(g),e({isOffline:!1,error:null})):(await ge(g),e({isOffline:!0,error:null}))}catch(t){console.error("Error toggling network:",t),e({error:"Failed to toggle network mode"})}}})),Ce=()=>{const{products:e,loading:i,error:o,fetchProducts:t}=G();return S.useEffect(()=>{t()},[]),{products:e,loading:i,error:o}},Le={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_FIREBASE_API_KEY:"AIzaSyCqm49bAzlJwx2SaTXJQZwrBMMM8BtP_1U",VITE_FIREBASE_APP_ID:"1:921119001263:web:59aa28f9f2ce17ebb6225a",VITE_FIREBASE_AUTH_DOMAIN:"bolt-coffee-shop.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"921119001263",VITE_FIREBASE_PROJECT_ID:"bolt-coffee-shop",VITE_FIREBASE_STORAGE_BUCKET:"bolt-coffee-shop.firebasestorage.app",VITE_STRIPE_PUBLISHABLE_KEY:"pk_test_your_publishable_key"};function Re(e,i){let o;try{o=e()}catch{return}return{getItem:n=>{var r;const a=m=>m===null?null:JSON.parse(m,void 0),c=(r=o.getItem(n))!=null?r:null;return c instanceof Promise?c.then(a):a(c)},setItem:(n,r)=>o.setItem(n,JSON.stringify(r,void 0)),removeItem:n=>o.removeItem(n)}}const P=e=>i=>{try{const o=e(i);return o instanceof Promise?o:{then(t){return P(t)(o)},catch(t){return this}}}catch(o){return{then(t){return this},catch(t){return P(t)(o)}}}},De=(e,i)=>(o,t,n)=>{let r={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:l=>l,version:0,merge:(l,h)=>({...h,...l}),...i},a=!1;const c=new Set,m=new Set;let f;try{f=r.getStorage()}catch{}if(!f)return e((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),o(...l)},t,n);const y=P(r.serialize),d=()=>{const l=r.partialize({...t()});let h;const u=y({state:l,version:r.version}).then(w=>f.setItem(r.name,w)).catch(w=>{h=w});if(h)throw h;return u},b=n.setState;n.setState=(l,h)=>{b(l,h),d()};const x=e((...l)=>{o(...l),d()},t,n);let _;const p=()=>{var l;if(!f)return;a=!1,c.forEach(u=>u(t()));const h=((l=r.onRehydrateStorage)==null?void 0:l.call(r,t()))||void 0;return P(f.getItem.bind(f))(r.name).then(u=>{if(u)return r.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==r.version){if(r.migrate)return r.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var w;return _=r.merge(u,(w=t())!=null?w:x),o(_,!0),d()}).then(()=>{h==null||h(_,void 0),a=!0,m.forEach(u=>u(_))}).catch(u=>{h==null||h(void 0,u)})};return n.persist={setOptions:l=>{r={...r,...l},l.getStorage&&(f=l.getStorage())},clearStorage:()=>{f==null||f.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:l=>(c.add(l),()=>{c.delete(l)}),onFinishHydration:l=>(m.add(l),()=>{m.delete(l)})},p(),_||x},Te=(e,i)=>(o,t,n)=>{let r={storage:Re(()=>localStorage),partialize:p=>p,version:0,merge:(p,l)=>({...l,...p}),...i},a=!1;const c=new Set,m=new Set;let f=r.storage;if(!f)return e((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${r.name}', the given storage is currently unavailable.`),o(...p)},t,n);const y=()=>{const p=r.partialize({...t()});return f.setItem(r.name,{state:p,version:r.version})},d=n.setState;n.setState=(p,l)=>{d(p,l),y()};const b=e((...p)=>{o(...p),y()},t,n);n.getInitialState=()=>b;let x;const _=()=>{var p,l;if(!f)return;a=!1,c.forEach(u=>{var w;return u((w=t())!=null?w:b)});const h=((l=r.onRehydrateStorage)==null?void 0:l.call(r,(p=t())!=null?p:b))||void 0;return P(f.getItem.bind(f))(r.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==r.version){if(r.migrate)return[!0,r.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var w;const[Q,Y]=u;if(x=r.merge(Y,(w=t())!=null?w:b),o(x,!0),Q)return y()}).then(()=>{h==null||h(x,void 0),x=t(),a=!0,m.forEach(u=>u(x))}).catch(u=>{h==null||h(void 0,u)})};return n.persist={setOptions:p=>{r={...r,...p},p.storage&&(f=p.storage)},clearStorage:()=>{f==null||f.removeItem(r.name)},getOptions:()=>r,rehydrate:()=>_(),hasHydrated:()=>a,onHydrate:p=>(c.add(p),()=>{c.delete(p)}),onFinishHydration:p=>(m.add(p),()=>{m.delete(p)})},r.skipHydration||_(),x||b},Fe=(e,i)=>"getStorage"in i||"serialize"in i||"deserialize"in i?((Le?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),De(e,i)):Te(e,i),Me=Fe;xe(I,be).catch(console.error);const A=C()(Me((e,i)=>({user:null,userProfile:null,loading:!0,error:null,isAdmin:!1,isOffline:!1,setAdminStatus:o=>{e({isAdmin:o})},setOfflineStatus:o=>{e({isOffline:o})},signUp:async(o,t)=>{try{e({loading:!0,error:null});const n=await ve(I,o,t),r={email:o,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString(),isAdmin:!1};try{await O(j(g,"users",n.user.uid),r)}catch(a){console.error("Error saving to Firestore, using local storage:",a)}e({userProfile:r})}catch(n){throw n.code==="auth/network-request-failed"?e({error:"Network error. Please check your connection.",isOffline:!0}):e({error:n.message}),n}finally{e({loading:!1})}},signIn:async(o,t)=>{try{e({loading:!0,error:null});const n=await we(I,o,t),r=o==="admin@example.com";e({isAdmin:r});try{const a=j(g,"users",n.user.uid);await O(a,{lastLogin:new Date().toISOString(),isAdmin:r},{merge:!0})}catch(a){console.error("Error updating Firestore, using local storage:",a)}await i().fetchUserProfile(n.user.uid)}catch(n){throw n.code==="auth/network-request-failed"?e({error:"Network error. Please check your connection.",isOffline:!0}):e({error:n.message}),n}finally{e({loading:!1})}},signOut:async()=>{try{e({loading:!0,error:null}),await je(I),e({userProfile:null,isAdmin:!1})}catch(o){throw o.code==="auth/network-request-failed"?e({error:"Network error. Please check your connection.",isOffline:!0}):e({error:o.message}),o}finally{e({loading:!1})}},fetchUserProfile:async o=>{var t;try{const n=await $(j(g,"users",o));if(n.exists()){const r=n.data();e({userProfile:r,isAdmin:r.isAdmin||r.email==="admin@example.com"})}}catch(n){console.error("Error fetching user profile:",n),((t=i().user)==null?void 0:t.email)==="admin@example.com"&&e({isAdmin:!0}),e({isOffline:!0})}}}),{name:"auth-storage",partialize:e=>({isAdmin:e.isAdmin,userProfile:e.userProfile,isOffline:e.isOffline})}));ye(I,async e=>{A.setState({user:e,loading:!1}),e&&await A.getState().fetchUserProfile(e.uid)});const N="global",F=C((e,i)=>({settings:null,loading:!1,error:null,fetchSettings:async()=>{e({loading:!0,error:null});try{const o=await $(j(g,"settings",N));if(o.exists())e({settings:o.data()});else{const t={maxOrdersPerSlot:3,blockedDates:[],productOptions:[]};await O(j(g,"settings",N),t),e({settings:t})}}catch(o){console.error("Error fetching settings:",o),e({error:"Failed to fetch settings"})}finally{e({loading:!1})}},updateMaxOrdersPerSlot:async o=>{e({loading:!0,error:null});try{const{settings:t}=i();if(!t)return;const n={...t,maxOrdersPerSlot:o};await O(j(g,"settings",N),n),e({settings:n})}catch(t){console.error("Error updating max orders:",t),e({error:"Failed to update max orders per slot"})}finally{e({loading:!1})}},toggleBlockedDate:async o=>{e({loading:!0,error:null});try{const{settings:t}=i();if(!t)return;const n=t.blockedDates.includes(o)?t.blockedDates.filter(a=>a!==o):[...t.blockedDates,o],r={...t,blockedDates:n};await O(j(g,"settings",N),r),e({settings:r})}catch(t){console.error("Error toggling blocked date:",t),e({error:"Failed to update blocked dates"})}finally{e({loading:!1})}},addProductOption:async o=>{e({loading:!0,error:null});try{const{settings:t}=i();if(!t)return;const n={...o,id:crypto.randomUUID()},r={...t,productOptions:[...t.productOptions||[],n]};await O(j(g,"settings",N),r),e({settings:r})}catch(t){console.error("Error adding product option:",t),e({error:"Failed to add product option"})}finally{e({loading:!1})}},updateProductOption:async o=>{e({loading:!0,error:null});try{const{settings:t}=i();if(!t)return;const n={...t,productOptions:(t.productOptions||[]).map(r=>r.id===o.id?o:r)};await O(j(g,"settings",N),n),e({settings:n})}catch(t){console.error("Error updating product option:",t),e({error:"Failed to update product option"})}finally{e({loading:!1})}},deleteProductOption:async o=>{e({loading:!0,error:null});try{const{settings:t}=i();if(!t)return;const n={...t,productOptions:(t.productOptions||[]).filter(r=>r.id!==o)};await O(j(g,"settings",N),n),e({settings:n})}catch(t){console.error("Error deleting product option:",t),e({error:"Failed to delete product option"})}finally{e({loading:!1})}}})),K=C((e,i)=>({items:[],collectionTime:null,addItem:o=>{e(t=>t.items.find(r=>r.product.id===o.product.id&&r.selectedOption===o.selectedOption)?{items:t.items.map(r=>r.product.id===o.product.id&&r.selectedOption===o.selectedOption?{...r,quantity:r.quantity+1}:r)}:{items:[...t.items,o]})},removeItem:(o,t)=>{e(n=>({items:n.items.filter(r=>!(r.product.id===o&&r.selectedOption===t))}))},updateQuantity:(o,t,n)=>{e(r=>({items:n>0?r.items.map(a=>a.product.id===o&&a.selectedOption===t?{...a,quantity:n}:a):r.items.filter(a=>!(a.product.id===o&&a.selectedOption===t))}))},clearCart:()=>e({items:[],collectionTime:null}),setCollectionTime:(o,t)=>e({collectionTime:{date:o,time:t}}),getTotal:()=>{const{items:o}=i(),{settings:t}=F.getState();return t?o.reduce((n,r)=>{var m;const a=r.product.price*r.quantity,c=r.selectedOption?(((m=t.productOptions.find(f=>f.id===r.selectedOption))==null?void 0:m.price)||0)*r.quantity:0;return n+a+c},0):0}})),ze=()=>{const{isOffline:e,error:i,toggleNetwork:o}=G();return!e&&!i?null:s.jsxs("div",{className:`fixed bottom-20 left-4 right-4 md:left-auto md:right-4 md:w-96 p-4 rounded-lg shadow-lg ${e?"bg-yellow-50":"bg-white"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${e?"bg-yellow-500":"bg-green-500"}`}),s.jsx("span",{className:"text-sm font-medium",children:e?"Offline Mode":"Online"})]}),s.jsx("button",{onClick:()=>o(),className:"text-sm text-blue-600 hover:text-blue-800",children:e?"Try to reconnect":"Work offline"})]}),i&&s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:i})]})},Be=()=>{const{items:e}=K(),i=q(),o=v.useMemo(()=>e.reduce((t,n)=>t+n.quantity,0),[e]);return o===0?null:s.jsx("button",{onClick:()=>i("/cart"),className:"fixed bottom-4 right-4 z-50 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-colors transform hover:scale-105 active:scale-95 duration-150","aria-label":`View Cart (${o} items)`,children:s.jsxs("div",{className:"relative",children:[s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("span",{className:"absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:o})]})})},Ue=({isOpen:e,onClose:i})=>{const[o,t]=S.useState(!0),[n,r]=S.useState(""),[a,c]=S.useState(""),[m,f]=S.useState(null),{signIn:y,signUp:d,error:b,loading:x}=A();if(!e)return null;const _=async l=>{l.preventDefault(),f(null);try{o?await y(n,a):await d(n,a),i(),r(""),c("")}catch(h){f(h.message||"Authentication failed"),console.error("Authentication error:",h)}},p=m||b;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:l=>{l.target===l.currentTarget&&i()},children:s.jsxs("div",{className:"bg-white p-8 rounded-lg max-w-md w-full m-4",onClick:l=>l.stopPropagation(),children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:o?"Sign In":"Create Account"}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{type:"email",id:"email",value:n,onChange:l=>r(l.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,disabled:x})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx("input",{type:"password",id:"password",value:a,onChange:l=>c(l.target.value),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500",required:!0,minLength:6,disabled:x})]}),p&&s.jsx("p",{className:"text-red-500 text-sm",children:p}),s.jsx("button",{type:"submit",disabled:x,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:x?s.jsxs("span",{className:"flex items-center justify-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):o?"Sign In":"Create Account"})]}),s.jsx("button",{onClick:()=>{t(!o),f(null)},className:"mt-4 text-sm text-blue-600 hover:text-blue-800",children:o?"Need an account? Sign up":"Already have an account? Sign in"}),s.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close",children:s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})},He=()=>{const{user:e,userProfile:i,signOut:o}=A(),[t,n]=S.useState(!1),[r,a]=S.useState(!1),c=S.useRef(null),m=q(),f=(e==null?void 0:e.email)==="admin@example.com";S.useEffect(()=>{const d=b=>{c.current&&!c.current.contains(b.target)&&a(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]);const y=async()=>{try{await o(),a(!1)}catch(d){console.error("Error signing out:",d)}};return s.jsxs(s.Fragment,{children:[e?s.jsxs("div",{className:"relative inline-block text-left",ref:c,children:[s.jsxs("button",{onClick:()=>a(!r),className:"flex items-center space-x-2 text-gray-700 hover:text-gray-900 p-2 rounded-md hover:bg-gray-100",children:[s.jsx("span",{className:"max-w-[150px] truncate",children:(i==null?void 0:i.email)||e.email}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 ring-1 ring-black ring-opacity-5",children:[f&&s.jsx("button",{onClick:()=>{m("/admin"),a(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Admin Settings"}),s.jsx("button",{onClick:y,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:"Sign Out"})]})]}):s.jsx("button",{onClick:()=>n(!0),className:"text-gray-700 hover:text-gray-900 p-2 rounded-md hover:bg-gray-100",children:"Sign In"}),s.jsx(Ue,{isOpen:t,onClose:()=>n(!1)})]})},We=({className:e=""})=>s.jsxs("svg",{className:e,viewBox:"0 0 500 500",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:[s.jsx("circle",{cx:"250",cy:"250",r:"240",stroke:"currentColor",strokeWidth:"20",fill:"none"}),s.jsx("text",{x:"250",y:"180",textAnchor:"middle",style:{fontSize:"80px",fontFamily:"serif",fontWeight:"bold"},children:"SOME"}),s.jsx("text",{x:"250",y:"280",textAnchor:"middle",style:{fontSize:"80px",fontFamily:"serif",fontWeight:"bold"},children:"GOOD"}),s.jsx("text",{x:"250",y:"380",textAnchor:"middle",style:{fontSize:"80px",fontFamily:"cursive",fontStyle:"italic"},children:"cuppa"})]}),qe=({categories:e,isMenuOpen:i,onMenuItemClick:o})=>{const t=Z(),n=a=>{const c=t.pathname.toLowerCase(),m=`/category/${a.toLowerCase()}`;return c===m},r=a=>`/category/${a.toLowerCase()}`;return s.jsx("nav",{className:`mt-6 ${i?"block":"hidden md:block"}`,children:s.jsx("div",{className:"flex flex-col md:flex-row md:space-x-6 space-y-3 md:space-y-0",children:e.map(a=>s.jsx(R,{to:r(a),className:`
              relative
              px-8 py-4
              rounded-xl
              text-center 
              font-semibold
              text-lg
              transform transition-all duration-200
              shadow-md hover:shadow-lg
              border-2
              ${n(a)?"bg-gradient-to-r from-blue-600 to-blue-700 text-white border-blue-600 hover:from-blue-700 hover:to-blue-800 hover:border-blue-700 scale-105 -translate-y-0.5":"bg-white text-gray-800 border-gray-200 hover:bg-blue-50 hover:border-blue-300 hover:text-blue-700 hover:-translate-y-0.5"}
              before:absolute before:inset-0 before:rounded-xl before:transition-opacity before:duration-200
              ${n(a)?"before:bg-blue-400 before:opacity-0 hover:before:opacity-10":"before:bg-blue-100 before:opacity-0 hover:before:opacity-50"}
            `,onClick:o,children:s.jsx("span",{className:"relative z-10",children:a})},a))})})},$e=v.lazy(()=>k(()=>import("./LandingPage-DXp0GX8V.js"),__vite__mapDeps([0,1,2,3]))),Je=v.lazy(()=>k(()=>import("./InfoPage-CpUaenbB.js"),__vite__mapDeps([4,1,2,3]))),Ve=v.lazy(()=>k(()=>import("./CategoryGrid-DxDVP25m.js"),__vite__mapDeps([5,1,2,3]))),Ge=v.lazy(()=>k(()=>import("./CartSummary-CEjkj6oR.js"),__vite__mapDeps([6,1,2,3]))),Ke=v.lazy(()=>k(()=>import("./TimeSelectionPage-ZVqIhBry.js"),__vite__mapDeps([7,1,3,2]))),Qe=v.lazy(()=>k(()=>import("./Checkout-B0z6KZWP.js"),__vite__mapDeps([8,1,9,2,3]))),Ye=v.lazy(()=>k(()=>import("./OrderConfirmation-DWBJLoQV.js"),__vite__mapDeps([10,1,2,3]))),Xe=v.lazy(()=>k(()=>import("./AdminSettings-DtrKcw9D.js"),__vite__mapDeps([11,1,9,2,3]))),Ze=({children:e})=>{const{user:i}=A();return(i==null?void 0:i.email)==="admin@example.com"?s.jsx(s.Fragment,{children:e}):s.jsx(te,{to:"/",replace:!0})};function et(){const{category:e="Coffees"}=re(),{products:i,loading:o,error:t}=Ce();if(v.useEffect(()=>{F.getState().fetchSettings()},[]),o)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(t)return s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"text-red-600",children:"Error loading products. Please try again later."})});let n;return e.toLowerCase()==="hotchocolate"?n="Hot Chocolate":n=e.charAt(0).toUpperCase()+e.slice(1).toLowerCase(),s.jsx(Ve,{products:i,category:n})}function tt(){const e=["Coffees","Teas","Cakes","Hot Chocolate"],[i,o]=v.useState(!1),{items:t}=K(),n=t.reduce((r,a)=>r+a.quantity,0);return v.useEffect(()=>{F.getState().fetchSettings()},[]),s.jsx("div",{className:"min-h-screen bg-gray-100",children:s.jsxs(M,{children:[s.jsx(E,{path:"/",element:s.jsx(S.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:s.jsx($e,{})})}),s.jsx(E,{path:"*",element:s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-white shadow-lg fixed top-0 left-0 right-0 z-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs(R,{to:"/menu",className:"flex items-center gap-4",children:[s.jsx(We,{className:"w-16 h-16"}),s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:"Some Good Cuppa"})]}),s.jsxs("div",{className:"flex items-center space-x-6",children:[n>0&&s.jsxs(R,{to:"/cart",className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:[s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsxs("span",{children:["View Cart (",n,")"]})]}),s.jsx(He,{}),s.jsxs("button",{onClick:()=>o(!i),className:"md:hidden p-2",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:i?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})]})]})]}),s.jsx(qe,{categories:e,isMenuOpen:i,onMenuItemClick:()=>o(!1)})]})}),s.jsx("main",{className:"max-w-7xl mx-auto px-6 py-6 mt-48",children:s.jsx(S.Suspense,{fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}),children:s.jsxs(M,{children:[s.jsx(E,{path:"/menu",element:s.jsx(Je,{})}),s.jsx(E,{path:"/category/:category",element:s.jsx(et,{})}),s.jsx(E,{path:"/cart",element:s.jsx(Ge,{})}),s.jsx(E,{path:"/collection-time",element:s.jsx(Ke,{})}),s.jsx(E,{path:"/checkout",element:s.jsx(Qe,{})}),s.jsx(E,{path:"/confirmation",element:s.jsx(Ye,{})}),s.jsx(E,{path:"/admin",element:s.jsx(Ze,{children:s.jsx(Xe,{})})})]})})}),s.jsx(Be,{}),s.jsx(ze,{})]})})]})})}function rt(){return s.jsx(ee,{children:s.jsx(tt,{})})}function ot(e={}){const{immediate:i=!1,onNeedRefresh:o,onOfflineReady:t,onRegistered:n,onRegisteredSW:r,onRegisterError:a}=e;let c,m;const f=async(d=!0)=>{await m};async function y(){if("serviceWorker"in navigator){if(c=await k(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{a==null||a(d)}),!c)return;c.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),c.addEventListener("installed",d=>{d.isUpdate||t==null||t()}),c.register({immediate:i}).then(d=>{r?r("/sw.js",d):n==null||n(d)}).catch(d=>{a==null||a(d)})}}return m=y(),f}const H=ot({onNeedRefresh(){confirm("New content available. Reload?")&&H&&H(!0)},onOfflineReady(){console.log("App ready to work offline")}}),W=document.getElementById("root");W?D.createRoot(W).render(s.jsx(v.StrictMode,{children:s.jsx(rt,{})})):console.error("Root element not found.");export{F as a,G as b,g as d,s as j,it as s,K as u};
//# sourceMappingURL=index-YCAMCxzv.js.map
